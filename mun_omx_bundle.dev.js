!function(){"use strict";var e={n:function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,{a:n}),n},d:function(t,n){for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},t=window.Mystique,n=emotionReact;function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var a=function(e){return(0,n.jsx)(t.Card,{title:"Hello World"},(0,n.jsx)(t.CardContent,null,(0,n.jsx)("p",{"data-testid":"hello-content"},e.content)))},i=React,o=e.n(i),l=window.MaterialUI;function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(e){l=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var g={card:{borderTop:"7px solid rgba(130, 130, 130, 0.3)"},cardContent:{padding:"0px 20px 20px 20px"},container:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"42px 0px 18px 0px"},title:{display:"flex",flex:"1",gap:"8px",flexDirection:"column"},value:{display:"block",fontSize:"2rem",fontWeight:700},skeleton:{width:"100%",height:"100%",background:"linear-gradient(to right, rgba(130, 130, 130, 0.3) 8%, rgba(130, 130, 130, 0.4) 18%, rgba(130, 130, 130, 0.3) 33%)",animation:"$skeletonAnimation 1.5s infinite ease-in-out",backgroundSize:"800px 100px"},circle:{width:"40px",height:"40px",borderRadius:"50%"},line:{width:"70%",height:"18px",borderRadius:"4px"},lineSmall:{width:"30%",height:"13px",borderRadius:"4px"},borderline:{width:"100%",height:"7px"},"@keyframes skeletonAnimation":{"0%":{backgroundPosition:"-468px 0"},"100%":{backgroundPosition:"468px 0"}}};function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v.apply(this,arguments)}function y(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||m(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(e){l=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw a}}return i}}(e,t)||m(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.ComponentRegistry.register(["fc.hello"],(function(e){var i,o,l,u=(o=(0,t.useQuery)("\n  query {\n    me{\n      id\n      username\n    }\n  }\n"),l=1,function(e){if(Array.isArray(e))return e}(o)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(e){l=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw a}}return i}}(o,l)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(o,l)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],s=void 0!==u.data?"".concat(e.content," ").concat(null===(i=u.data)||void 0===i?void 0:i.me.username):"Loading...";return(0,n.jsx)(a,{content:s})}),{category:"content"}),t.TemplateRegistry.register(["allowedRevision","aro"],(function(e){var t;if(!e.status||null==e||null===(t=e.fulfilments)||void 0===t||!t.edges||0==e.fulfilments.edges.length)return!1;if("BOOKED"==e.status||"IN_PROGRESS"==e.status||"DISPATCH"==e.status){if(1==e.fulfilments.edges.length&&"ASSIGNED"==e.fulfilments.edges[0].node.status)return!0;if(e.fulfilments.edges.every((function(e){var t;return["ASSIGNED","EXPIRED","REJECTED","COMPLETE"].includes(null===(t=e.node)||void 0===t?void 0:t.status)})))return!0}return!1})),t.TemplateRegistry.register(["allowChangeAddress","aca"],(function(e){var t;if(!e.status||null==e||null===(t=e.fulfilments)||void 0===t||!t.edges||0==e.fulfilments.edges.length)return!1;if("BOOKED"==e.status||"IN_PROGRESS"==e.status){if(1==e.fulfilments.edges.length&&"ASSIGNED"==e.fulfilments.edges[0].node.status)return!0;if(e.fulfilments.edges.every((function(e){var t;return["ASSIGNED","EXPIRED","REJECTED"].includes(null===(t=e.node)||void 0===t?void 0:t.status)})))return!0}return!1})),t.TemplateRegistry.register(["allowReturn","art"],(function(e){var t;return!(!e.status||null==e||null===(t=e.fulfilments)||void 0===t||!t.edges||0==e.fulfilments.edges.length||!e.fulfilments.edges.every((function(e){var t;return"COMPLETE"==(null===(t=e.node)||void 0===t?void 0:t.status)})))})),t.TemplateRegistry.register(["allowCancel","ac"],(function(e){var t;return!(!e.status||null==e||null===(t=e.fulfilments)||void 0===t||!t.edges||0==e.fulfilments.edges.length||"BOOKED"!=e.status&&"IN_PROGRESS"!=e.status||!e.fulfilments.edges.every((function(e){var t;return["ASSIGNED","EXPIRED","REJECTED"].includes(null===(t=e.node)||void 0===t?void 0:t.status)})))})),t.TemplateRegistry.register(["countSellout","cso"],(function(e){if(!e||0==e.length)return 0;try{return e.filter((function(e){var t,n,r;return null==e||null===(t=e.node)||void 0===t||null===(n=t.attributes)||void 0===n||null===(r=n.find((function(e){return"isSellout"===(null==e?void 0:e.name)})))||void 0===r?void 0:r.value})).length}catch(e){return console.error(e),0}})),t.ComponentRegistry.register(["munro.fulfilment.threshold"],(function(e){var r,a,u=f(o().useState(function(e){if(!e)return{};var n={};return Object.keys(e).forEach((function(r){var a=e[r];if("string"==typeof a){var i=t.TemplateRegistry.render(a);n[r]=i}else n[r]=a})),n}(e.dataOverride.variables)),2),d=u[0],c=u[1],v=f((0,t.useQuery)(e.dataOverride.query,d),1)[0],y=f(o().useState(0),2),p=y[0],m=y[1];(0,i.useEffect)((function(){var n,r=e.maxCount||99;if(v.data&&!(p>r)){var a=e.dataSource?v.data[e.dataSource]:v.data;if(a&&null!==(n=a.pageInfo)&&void 0!==n&&n.hasNextPage&&null!=a&&a.edges){var i,o=a.edges.length-1,l=null===(i=a.edges[o])||void 0===i?void 0:i.cursor;l&&c(s(s({},d),{},{after:l}))}if(a&&a.edges){var u=parseInt(t.TemplateRegistry.render(e.value,a));m((function(e){return e+u}))}}}),[v]);var b=(0,l.makeStyles)(g)(),h=e.dataSource&&v.data?v.data[e.dataSource]:v.data;if(v.fetching||null!=h&&null!==(r=h.pageInfo)&&void 0!==r&&r.hasNextPage)return(0,n.jsx)(t.Card,{width:e.width||3},(0,n.jsx)("div",{className:b.skeleton+" "+b.borderline}),(0,n.jsx)(l.CardContent,{className:b.cardContent},(0,n.jsx)("div",{className:b.container},(0,n.jsx)("div",{className:b.title},(0,n.jsx)("div",{className:b.skeleton+" "+b.line}),(0,n.jsx)("div",{className:b.skeleton+" "+b.lineSmall})),(0,n.jsx)("div",{className:b.skeleton+" "+b.circle}))));var x=[{component:"fc.dashboard.threshold",props:s(s({},e),{},{value:p.toFixed(0)+(null!=h&&null!==(a=h.pageInfo)&&void 0!==a&&a.hasNextPage?"+":"")})}];return(0,n.jsx)(t.Children,{descendantsOverride:x})}),{category:"content"}),t.ComponentRegistry.register(["munro.filter.list"],(function(e){var r,a,o,u,s=(0,t.useData)(),d=e.defaultPageSize||10,f=p((0,i.useState)({edges:[],pageInfo:{hasNextPage:!0}}),2),c=f[0],g=f[1],m=p((0,i.useState)(),2),b=m[0],h=m[1],x=p((0,i.useState)(),2),S=x[0],j=x[1];if((0,i.useEffect)((function(){if("ready"==s.loadingState&&s.context.data&&e.extendFilter){var n,r,a=s.context.data;if(!a||!a.edges)return;var i=a.edges[0];if(i&&S&&i.cursor==S)return;i&&i.cursor&&j(i.cursor);var o=(null==c?void 0:c.edges)||[],l=s.variables.available.find((function(e){return e.name.endsWith("_first")})),u=s.variables.available.find((function(e){return e.name.endsWith("_after")}));if(!u)return;var d=e.defaultPageSize||10;l&&(d=s.variables.current[l.name]||d),s.variables.current[u.name]!=b&&(o=[]);var f={edges:[].concat(y(o),y(null===(n=a.edges)||void 0===n?void 0:n.filter((function(n){return r=e.extendFilter,a=n,"true"===t.TemplateRegistry.render(r,a);var r,a})))),pageInfo:a.pageInfo};if(f.edges.length>d){var v=f.edges[f.edges.length-1];f.edges=f.edges.slice(0,d),h(null==v?void 0:v.cursor)}else if(f.edges.length<d&&null!==(r=f.pageInfo)&&void 0!==r&&r.hasNextPage){var p=a.edges[a.edges.length-1];s.variables.setVariables((m={},x=u.name,O=null==p?void 0:p.cursor,x in m?Object.defineProperty(m,x,{value:O,enumerable:!0,configurable:!0,writable:!0}):m[x]=O,m)),h(null==p?void 0:p.cursor)}else h(null);g(f)}var m,x,O}),[s]),!e.extendFilter)return(0,n.jsx)(t.List,v({},e,{data:s.context.data}));var O=(0,l.makeStyles)({loadingCover:{position:"absolute",top:0,left:0,bottom:0,right:0,backgroundColor:"#efefef",zIndex:100,display:"flex",justifyContent:"center",alignItems:"center"}})(),w=c.edges&&(null===(r=c.edges)||void 0===r?void 0:r.length)<d&&(null===(a=c.pageInfo)||void 0===a?void 0:a.hasNextPage)||"ready"!=s.loadingState;return(0,n.jsx)(React.Fragment,null,c.edges&&(null===(o=c.edges)||void 0===o?void 0:o.length)<d&&(null===(u=c.pageInfo)||void 0===u?void 0:u.hasNextPage)&&(0,n.jsx)("div",{className:O.loadingCover},(0,n.jsx)(t.Loading,null)),(0,n.jsx)(t.List,v({},e,{data:w?[]:c})))}),{category:"content"})}();