!function(){"use strict";var e={n:function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,{a:r}),r},d:function(t,r){for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},t=window.Mystique,r=emotionReact;function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var a=function(e){return(0,r.jsx)(t.Card,{title:"Hello World"},(0,r.jsx)(t.CardContent,null,(0,r.jsx)("p",{"data-testid":"hello-content"},e.content)))},o=React,i=e.n(o),l=window.MaterialUI;function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var g={card:{borderTop:"7px solid rgba(130, 130, 130, 0.3)"},cardContent:{padding:"0px 20px 20px 20px"},container:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"42px 0px 18px 0px"},title:{display:"flex",flex:"1",gap:"8px",flexDirection:"column"},value:{display:"block",fontSize:"2rem",fontWeight:700},skeleton:{width:"100%",height:"100%",background:"linear-gradient(to right, rgba(130, 130, 130, 0.3) 8%, rgba(130, 130, 130, 0.4) 18%, rgba(130, 130, 130, 0.3) 33%)",animation:"$skeletonAnimation 1.5s infinite ease-in-out",backgroundSize:"800px 100px"},circle:{width:"40px",height:"40px",borderRadius:"50%"},line:{width:"70%",height:"18px",borderRadius:"4px"},lineSmall:{width:"30%",height:"13px",borderRadius:"4px"},borderline:{width:"100%",height:"7px"},"@keyframes skeletonAnimation":{"0%":{backgroundPosition:"-468px 0"},"100%":{backgroundPosition:"468px 0"}}};function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},v.apply(this,arguments)}function p(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||m(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}}(e,t)||m(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){if(e){if("string"==typeof e)return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?b(e,t):void 0}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}t.ComponentRegistry.register(["fc.hello"],(function(e){var o,i,l,u=(i=(0,t.useQuery)("\n  query {\n    me{\n      id\n      username\n    }\n  }\n"),l=1,function(e){if(Array.isArray(e))return e}(i)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}}(i,l)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(i,l)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],s=void 0!==u.data?"".concat(e.content," ").concat(null===(o=u.data)||void 0===o?void 0:o.me.username):"Loading...";return(0,r.jsx)(a,{content:s})}),{category:"content"}),t.TemplateRegistry.register(["allowedRevision","aro"],(function(e){var t;if(!e.status||null==e||null===(t=e.fulfilments)||void 0===t||!t.edges||0==e.fulfilments.edges.length)return!1;if("BOOKED"==e.status||"IN_PROGRESS"==e.status){if(1==e.fulfilments.edges.length&&"ASSIGNED"==e.fulfilments.edges[0].node.status)return!0;if(e.fulfilments.edges.every((function(e){var t;return["ASSIGNED","EXPIRED","REJECTED","COMPLETE"].includes(null===(t=e.node)||void 0===t?void 0:t.status)})))return!0}return!1})),t.TemplateRegistry.register(["allowChangeAddress","aca"],(function(e){var t;if(!e.status||null==e||null===(t=e.fulfilments)||void 0===t||!t.edges||0==e.fulfilments.edges.length)return!1;if("BOOKED"==e.status||"IN_PROGRESS"==e.status){if(1==e.fulfilments.edges.length&&"ASSIGNED"==e.fulfilments.edges[0].node.status)return!0;if(e.fulfilments.edges.every((function(e){var t;return["ASSIGNED","EXPIRED","REJECTED"].includes(null===(t=e.node)||void 0===t?void 0:t.status)})))return!0}return!1})),t.TemplateRegistry.register(["countSellout","cso"],(function(e){if(!e.edges||0==e.edges.length)return 0;try{return e.edges.filter((function(e){var t,r,n;return null==e||null===(t=e.node)||void 0===t||null===(r=t.attributes)||void 0===r||null===(n=r.find((function(e){return"isSellout"===(null==e?void 0:e.name)})))||void 0===n?void 0:n.value})).length}catch(e){return console.error(e),0}})),t.ComponentRegistry.register(["munro.fulfilment.threshold"],(function(e){var n,a=c(i().useState(function(e){if(!e)return{};var r={};return Object.keys(e).forEach((function(n){var a=e[n];if("string"==typeof a){var o=t.TemplateRegistry.render(a);r[n]=o}else r[n]=a})),r}(e.dataOverride.variables)),2),u=a[0],d=a[1],f=c((0,t.useQuery)(e.dataOverride.query,u),1)[0],v=c(i().useState(0),2),p=v[0],y=v[1];(0,o.useEffect)((function(){var r;if(f.data&&!(p>999)){var n=e.dataSource?f.data[e.dataSource]:f.data;if(n&&null!==(r=n.pageInfo)&&void 0!==r&&r.hasNextPage&&null!=n&&n.edges){var a,o=n.edges.length-1,i=null===(a=n.edges[o])||void 0===a?void 0:a.cursor;i&&d(s(s({},u),{},{after:i}))}if(n&&n.edges){var l=parseInt(t.TemplateRegistry.render(e.value,n));y((function(e){return e+l}))}}}),[f]);var m=(0,l.makeStyles)(g)(),b=e.dataSource&&f.data?f.data[e.dataSource]:f.data;if(f.fetching||null!=b&&null!==(n=b.pageInfo)&&void 0!==n&&n.hasNextPage)return(0,r.jsx)(t.Card,{width:e.width||3},(0,r.jsx)("div",{className:m.skeleton+" "+m.borderline}),(0,r.jsx)(l.CardContent,{className:m.cardContent},(0,r.jsx)("div",{className:m.container},(0,r.jsx)("div",{className:m.title},(0,r.jsx)("div",{className:m.skeleton+" "+m.line}),(0,r.jsx)("div",{className:m.skeleton+" "+m.lineSmall})),(0,r.jsx)("div",{className:m.skeleton+" "+m.circle}))));var h=[{component:"fc.dashboard.threshold",props:s(s({},e),{},{value:p<1e3?p.toFixed(0):"999+"})}];return(0,r.jsx)(t.Children,{descendantsOverride:h})}),{category:"content"}),t.ComponentRegistry.register(["munro.filter.list"],(function(e){var n,a,i,u,s=(0,t.useData)(),d=e.defaultPageSize||10,c=y((0,o.useState)({edges:[],pageInfo:{hasNextPage:!0}}),2),f=c[0],g=c[1],m=y((0,o.useState)(),2),b=m[0],h=m[1],x=y((0,o.useState)(),2),S=x[0],j=x[1];if((0,o.useEffect)((function(){if("ready"==s.loadingState&&s.context.data&&e.extendFilter){var r,n,a=s.context.data;if(!a||!a.edges)return;var o=a.edges[0];if(o&&S&&o.cursor==S)return;o&&o.cursor&&j(o.cursor);var i=(null==f?void 0:f.edges)||[],l=s.variables.available.find((function(e){return e.name.endsWith("_first")})),u=s.variables.available.find((function(e){return e.name.endsWith("_after")}));if(!u)return;var d=e.defaultPageSize||10;l&&(d=s.variables.current[l.name]||d),s.variables.current[u.name]!=b&&(i=[]);var c={edges:[].concat(p(i),p(null===(r=a.edges)||void 0===r?void 0:r.filter((function(r){return n=e.extendFilter,a=r,"true"===t.TemplateRegistry.render(n,a);var n,a})))),pageInfo:a.pageInfo};if(c.edges.length>d){var v=c.edges[c.edges.length-1];c.edges=c.edges.slice(0,d),h(null==v?void 0:v.cursor)}else if(c.edges.length<d&&null!==(n=c.pageInfo)&&void 0!==n&&n.hasNextPage){var y=a.edges[a.edges.length-1];s.variables.setVariables((m={},x=u.name,O=null==y?void 0:y.cursor,x in m?Object.defineProperty(m,x,{value:O,enumerable:!0,configurable:!0,writable:!0}):m[x]=O,m)),h(null==y?void 0:y.cursor)}else h(null);g(c)}var m,x,O}),[s]),!e.extendFilter)return(0,r.jsx)(t.List,v({},e,{data:s.context.data}));var O=(0,l.makeStyles)({loadingCover:{position:"absolute",top:0,left:0,bottom:0,right:0,backgroundColor:"#efefef",zIndex:100,display:"flex",justifyContent:"center",alignItems:"center"}})(),w=f.edges&&(null===(n=f.edges)||void 0===n?void 0:n.length)<d&&(null===(a=f.pageInfo)||void 0===a?void 0:a.hasNextPage)||"ready"!=s.loadingState;return(0,r.jsx)(React.Fragment,null,f.edges&&(null===(i=f.edges)||void 0===i?void 0:i.length)<d&&(null===(u=f.pageInfo)||void 0===u?void 0:u.hasNextPage)&&(0,r.jsx)("div",{className:O.loadingCover},(0,r.jsx)(t.Loading,null)),(0,r.jsx)(t.List,v({},e,{data:w?[]:f})))}),{category:"content"})}();